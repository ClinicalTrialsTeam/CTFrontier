# Clinical Trials Project

## Prerequisites

* Docker install and running


## Setup

1. Clone the repo.
1. In the "backend/core" folder there is a file `example.env`.
Copy this into a new `.env` file and fill it in (this .env file be in the "backend/core" folder).
`DJANGO_SECRET` should be a value you get from running `python scripts/gen_random_key.py`
`DB_PASSWORD` can be whatever you want.
1. Before building your docker images, it might be a good idea to run `docker system prune` to clear some space in case you have any previous docker images laying around.
1. Build the docker image `docker-compose build` (This may take a little while)

## Linting

Linting enforces common code style rules. It can help keep everyone's code consistent and can prevent common errors.

### React 
This project has an ESLint configuration file. You will need to install ESLint package to give you hints in your IDE on how to fix the linting errors. The React project will not compile with ESLint errors.

For VSCode this is the package to install:
[VSCode ESLint](https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint)

## Running the project

1. Run the project with `docker-compose up`
1. If all goes well, your React app should be accessible at: [http://localhost:3000](http://localhost:3000)

## File Structure

	.
	├── .gitignore
	├── README.md
	├── backend 	
	├── frontend
	├── scripts				
	└── docker-compose.yml
	
`.gitignore` - Project wide gitignore

`backend` - Folder for all Django server code.

`frontend` - Folder for all React client code.

`scripts` - Folder for any helptul scripts not directly part of the project.

`docker-compose.yml` - A docker file that defines how the react, django and pgdb docker containers will be run together. (The pgdb doesn't have its own docker file because the base setup for the postgres container is using a predefined image from dockerhub `image: postgres` without much additional setup needed).

### React Frontend

	frontend
	├── Dockerfile
	├── README.md
	├── package-lock.json
	├── package.json
	├── public
	│   ├── favicon.ico
	│   ├── index.html
	│   ├── logo192.png
	│   ├── logo512.png
	│   ├── manifest.json
	│   └── robots.txt
	└── src
	    ├── App.css
	    ├── App.js
	    ├── App.test.js
	    ├── index.css
	    ├── index.js
	    ├── logo.svg
	    ├── reportWebVitals.js
	    └── setupTests.js

`frontend/Dockerfile` - A Dockerfile that defines the base build for the django Docker container. This does some initial setup and installation of libraries on the django build. This file is run by the `docker-compose.yml` file by this line: `build: ./frontend`

### Django Backend

	backend
	├── Dockerfile
	├── core
	│   ├── __init__.py
	│   ├── asgi.py
	│   ├── example.env
	│   ├── settings.py
	│   ├── urls.py
	│   └── wsgi.py
	├── manage.py
	├── requirements.in
	└── requirements.txt

`backend/Dockerfile` - A Dockerfile that defines the base build for the django Docker container. This does some initial setup and installation of libraries on the django build. This file is run by the `docker-compose.yml` file by this line: `build: ./backend`

`backend/requirements.in` - This is where you would add python libraries that you want to include in the project.

`backend/requirements.txt` - This file should NOT be manually edited. This file is auto generated by a script that takes in the `requirements.in` and outputs a `requirements.txt` file with the proper versions of each library.
